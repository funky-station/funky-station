- type: entity
  parent: BaseHealingItem
  id: BaseMedicalPatch
  name: base patch
  description: put this on your boo boo
  abstract: true
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    state: GenericPatch
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 30
  - type: ExaminableSolution
    solution: drink
  - type: Sticky
    stickDelay: 3
    unstickDelay: 2
    stickPopupStart: goobstation-medicalpatch-sticy-trystick
    stickPopupSuccess: goobstation-medicalpatch-sticy-trystick-success
    unstickPopupStart: goobstation-medicalpatch-sticy-tryremove
    unstickPopupSuccess: goobstation-medicalpatch-sticy-tryremove-success
    whitelist:
      components:
      - Bloodstream
  - type: StickyVisualizer
  - type: Appearance
  - type: MixableSolution
    solution: drink
  - type: MedicalPatch
    transferAmount: 2 # Funky
  - type: Tag
    tags:
    - MedicalPatch

- type: entity
  parent: BaseMedicalPatch
  id: MedicalPatchBasic
  name: patch
  description: A chemical patch. Keep it on tightly. # Funky
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    scale: 0.9 , 0.9
    layers:
      - state: GenericPatch
      - state: GenericPatch-1
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false
  - type: SolutionContainerVisuals
    maxFillLevels: 9
    fillBaseName: GenericPatch-
  - type: SolutionContainerManager
    solutions:
      drink:  #drink is the same as Bottle solution, this is to prevent recoding chem master. TODO: recode chem master
        maxVol: 30 # Funky
  - type: Tag
    tags:
    - MedicalPatch
    - Bottle  # Bottle tag so that it can be accepted by chem master # TODO: code chemmaster
  - type: Spillable # only way empty the patch is wring it out and spill it on the floor
    solution: drink

- type: entity
  parent: BaseHealingItem
  id: UsedMedicalPatch
  name: patch used
  description: Disgustingggg!!! # Funky
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    state: GenericPatchSmallUsed
  - type: Tag
    tags:
    - Trash
  - type: PhysicalComposition #get 1 cloth form recycling a used patch
    materialComposition:
      Cloth: 100

- type: entity
  parent: UsedMedicalPatch
  id: UsedMedicalPatchMakeshift
  name: patch used
  description: You have nearly thrown up lunch by seeing this... # Funky
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    state: MakeshiftPatchUsed

- type: entity
  parent: MedicalPatchBasic
  id: MedicalPatchRapid
  name: rapid patch
  description:  A rapid patch for fast application. Be sure to not overdose a patient. # Funky
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    layers:
      - state: GenericPatch
      - state: GenericPatchBorder
        color: Red
      - state: GenericPatch-1
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false
  - type: MedicalPatch
    transferAmount: 5 # Funky

- type: entity
  parent: MedicalPatchBasic
  id: MedicalPatchLarge
  name: large patch
  description: A larger chemical patch. Holds more chemicals, but injects them slowly. # Funky
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    scale: 1 , 1
    layers:
      - state: GenericPatch
      - state: GenericPatchBorder
        color: Violet
      - state: GenericPatch-1
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 60 # 2x basic
  - type: MedicalPatch
    transferAmount: 1 # Funky
  #  injectPercentageOnAttatch: 15 # 10u when full

- type: entity
  parent: BaseMedicalPatch
  id: MedicalPatchMakeshift
  name: makeshift patch
  description: You hate this creation, but it has chemicals. Maybe. # Funky
  components:
  - type: Sprite
    state: MakeshiftPatch
  - type: MedicalPatch
    updateTime: 4 # slower - funky
    singleUse: true
    trashObject: UsedMedicalPatchMakeshift
  - type: SolutionContainerManager
    solutions:
      drink:
        maxVol: 15  #Low volume but a full patch  will last for 60 seconds
  - type: RefillableSolution  # So Tiders can fill ther bandages whit hotch and ventcurd - The spelling i really can't [Funky]
    solution: drink
  - type: Construction
    graph: MedicalPatchMakeshift
    node: medicalPatchMakeshift

- type: latheRecipe
  id: MedicalPatchBasic
  result: MedicalPatchBasic
  completetime: 2
  materials:
    Plastic: 50
    Cloth: 50

- type: latheRecipe
  id: MedicalPatchRapid
  result: MedicalPatchRapid
  completetime: 2
  materials:
    Cloth: 75
    Plastic: 75

- type: latheRecipe
  id: MedicalPatchLarge
  result: MedicalPatchLarge
  completetime: 2
  materials:
    Plastic: 100
    Cloth: 100

- type: constructionGraph
  id: MedicalPatchMakeshift
  start: start
  graph:
  - node: start
    edges:
    - to: medicalPatchMakeshift
      steps:
      - material: Gauze
        amount: 2
        doAfter: 5
  - node: medicalPatchMakeshift
    entity: MedicalPatchMakeshift

- type: construction
  name: Makeshift Patch
  id: MedicalPatchMakeshift
  graph: MedicalPatchMakeshift
  startNode: start
  targetNode: medicalPatchMakeshift
  category: construction-category-tools
  objectType: Item
  description: A ghetto chemist's dream. For the customers? A nightmare. # Funky
  icon:
    sprite: _Goobstation/Objects/Medical/medical_patch.rsi
    state: MakeshiftPatch



