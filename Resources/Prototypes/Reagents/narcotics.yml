# SPDX-FileCopyrightText: 2022 Alex Evgrashin <aevgrashin@yandex.ru>
# SPDX-FileCopyrightText: 2022 Flipp Syder <76629141+vulppine@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Kara <lunarautomaton6@gmail.com>
# SPDX-FileCopyrightText: 2022 Leon Friedrich <60421075+ElectroJr@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Moony <moonheart08@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Nairod <110078045+Nairodian@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Rane <60792108+Elijahrane@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 Sam Weaver <weaversam8@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 ShadowCommander <10494922+ShadowCommander@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 areit <77842470+areitpog@users.noreply.github.com>
# SPDX-FileCopyrightText: 2022 metalgearsloth <comedian_vs_clown@hotmail.com>
# SPDX-FileCopyrightText: 2022 mirrorcult <lunarautomaton6@gmail.com>
# SPDX-FileCopyrightText: 2022 router <messagebus@vk.com>
# SPDX-FileCopyrightText: 2023 Alekshhh <44923899+Alekshhh@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Feluk6174 <77207907+Feluk6174@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 GoodWheatley <109803540+GoodWheatley@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Interrobang01 <113810873+Interrobang01@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Kevin Zheng <kevinz5000@gmail.com>
# SPDX-FileCopyrightText: 2023 Scribbles0 <91828755+Scribbles0@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 Vordenburg <114301317+Vordenburg@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 deltanedas <39013340+deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 2023 lapatison <100279397+lapatison@users.noreply.github.com>
# SPDX-FileCopyrightText: 2023 metalgearsloth <31366439+metalgearsloth@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Alzore <140123969+Blackern5000@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Aviu00 <93730715+Aviu00@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 John Space <bigdumb421@gmail.com>
# SPDX-FileCopyrightText: 2024 Kira Bridgeton <161087999+Verbalase@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Nemanja <98561806+EmoGarbage404@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 PJBot <pieterjan.briers+bot@gmail.com>
# SPDX-FileCopyrightText: 2024 Plykiya <58439124+Plykiya@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 Steve <marlumpy@gmail.com>
# SPDX-FileCopyrightText: 2024 Tadeo <td12233a@gmail.com>
# SPDX-FileCopyrightText: 2024 marc-pelletier <113944176+marc-pelletier@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 potato1234_x <79580518+potato1234x@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 slarticodefast <161409025+slarticodefast@users.noreply.github.com>
# SPDX-FileCopyrightText: 2024 takemysoult <143123247+takemysoult@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 LucasTheDrgn <kirbyfan.95@gmail.com>
# SPDX-FileCopyrightText: 2025 PurpleTranStar <purpletranstars@gmail.com>
# SPDX-FileCopyrightText: 2025 Starry <202317940+PurpleTranStar@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Starry <tehevilduckiscoming@gmail.com>
# SPDX-FileCopyrightText: 2025 Xcybitt <197952719+Xcybitt@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 YaraaraY <158123176+YaraaraY@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 corresp0nd <46357632+corresp0nd@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 taydeo <td12233a@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: reagent
  id: Desoxyephedrine
  name: reagent-name-desoxyephedrine
  group: Narcotics
  desc: reagent-desc-desoxyephedrine
  physicalDesc: reagent-physical-desc-translucent
  contrabandSeverity: Major
  flavor: bitter
  color: "#FAFAFA"
  boilingPoint: 212.0  # Dexosyephedrine vape when?
  meltingPoint: 170.0
  metabolisms:
    Poison:
      # Main effects
      effects:
      - !type:HealthChange
        damage:
          types:
            Poison: 0.75
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Desoxyephedrine
          min: 30
        damage:
          types:
            Poison: 2 # this is added to the base damage of the meth.
            Asphyxiation: 2
    Narcotic:
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.20
        sprintSpeedModifier: 1.20
      - !type:ModifyStatusEffect
        effectProto: StatusEffectDesoxyStamina # You are on meth. You keep going.
        time: 3
      - !type:GenericStatusEffect
        key: Adrenaline
        component: IgnoreSlowOnDamage
        time: 3
      # Side effects
      - !type:Jitter
      - !type:GenericStatusEffect
        key: Stutter
        component: StutteringAccent
      - !type:Jitter
      - !type:ModifyStatusEffect
        effectProto: StatusEffectPainNumbness
        time: 2
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
    Medicine:
      effects:
      # Side effects
      - !type:ResetNarcolepsy
        conditions:
        - !type:ReagentCondition
          reagent: Desoxyephedrine
          min: 20

- type: reagent
  id: Ephedrine
  name: reagent-name-ephedrine
  group: Narcotics
  desc: reagent-desc-ephedrine
  physicalDesc: reagent-physical-desc-powdery
  contrabandSeverity: Minor
  flavor: bitter
  color: "#D2FFFA"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.15
        sprintSpeedModifier: 1.15
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStunned
        time: 1
        type: Remove
      - !type:ModifyKnockdown
        time: 1
        type: Remove
      # Side effects
      - !type:Jitter
      - !type:PopupMessage
        visualType: Medium
        messages: ["ephedrine-effect-tight-pain", "ephedrine-effect-heart-pounds"]
        type: Local
        probability: 0.05
      # OD
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Ephedrine
          min: 20
        damage:
          types:
            Poison: 2 # this is added to the base damage of the meth.
            Asphyxiation: 2
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
      - !type:PopupMessage
        visualType: Medium
        messages: ["ephedrine-effect-tight-pain", "ephedrine-effect-heart-pounds"]
        type: Local
        probability: 0.05
    Medicine:
      effects:
      # Side effects
      - !type:ResetNarcolepsy
        conditions:
        - !type:ReagentCondition
          reagent: Ephedrine
          min: 30

- type: reagent
  id: Stimulants
  name: reagent-name-stimulants
  group: Narcotics
  desc: reagent-desc-stimulants
  physicalDesc: reagent-physical-desc-energizing
  contrabandSeverity: Syndicate
  flavor: sharp
  color: "#9A040E"
  boilingPoint: 212.0
  meltingPoint: 170.0
  metabolisms:
    Narcotic:
      metabolismRate: 1.0
      effects:
      # Main effects
      - !type:MovementSpeedModifier
        walkSpeedModifier: 1.25
        sprintSpeedModifier: 1.25
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Stimulants
          min: 80 #please wait 3 minutes before using another stimpack
        damage:
          types:
            Poison: 1
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: ChloralHydrate
          min: 1
        reagent: ChloralHydrate
        amount: -10
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStimulantsStamina # You are on meth. You keep going.
        time: 3
      - !type:ModifyStatusEffect
        effectProto: StatusEffectStunned
        time: 3.5
        type: Remove
      - !type:ModifyKnockdown
        time: 3.5
        type: Remove
      - !type:ModifyStatusEffect
        effectProto: StatusEffectForcedSleeping
        time: 3
        type: Remove
      - !type:GenericStatusEffect
        key: Adrenaline
        component: IgnoreSlowOnDamage
        time: 3
      # Side effects
      - !type:Jitter
      # OD
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Stimulants
          min: 50
        damage:
          types:
            Poison: 1
      # Interactions
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Haloperidol
          max: 0.01
        effectProto: StatusEffectDrowsiness
        time: 10
        type: Remove
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: ChloralHydrate
          min: 1
        reagent: ChloralHydrate
        amount: -10
    Medicine:
      metabolismRate: 1.0
      effects:
      # Main effects
      - !type:ModifyBleed
        amount: -1.5
      - !type:EvenHealthChange
        conditions:
        - !type:TotalDamageCondition
          min: 70 # only heals when you're more dead than alive
        damage: # Doesn't heal poison because if you OD'd I'm not giving you a safety net
          Burn: -0.5
          Brute: -0.5
      - !type:HealthChange
        conditions:
        - !type:TotalDamageCondition
          min: 95 # Just to bring you back from the brink of death
        damage:
          types:
            Asphyxiation: -2
      # Side effects
      - !type:ResetNarcolepsy
      - !type:SatiateHunger
        factor: 1
      - !type:SatiateThirst
        factor: 1

- type: reagent
  id: THC
  name: reagent-name-thc
  group: Narcotics
  desc: reagent-desc-thc
  flavor: bitter
  flavorMinimum: 0.05
  color: "#808080"
  physicalDesc: reagent-physical-desc-crystalline
  plantMetabolism:
  - !type:PlantAdjustNutrition
    amount: -5
  - !type:PlantAdjustHealth
    amount: -1
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        time: 16
        type: Add
        refresh: false

- type: reagent
  id: Nicotine
  name: reagent-name-nicotine
  group: Narcotics
  desc: reagent-desc-nicotine
  flavor: bitter
  color: "#C0C0C0"
  physicalDesc: reagent-physical-desc-strong-smelling
  plantMetabolism:
  - !type:PlantAdjustHealth
    amount: -5
  metabolisms:
    Narcotic:
      effects:
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          max: 20
        reagent: Nicotine
        amount: 0.5
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 20
        reagent: Nicotine
        amount: 0.45
      - !type:Emote
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 40
        emote: Cough
        probability: 0.05
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 40   #if you hit this naturally while smoking, good for you.
        damage:
          types:
            Poison: 0.01  #miniscule amounts of poison from the stuff NT puts in, also gives med some work
            Asphyxiation: 0.1  #lungs are in smoker mode
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 70   #if you hit this naturally while smoking, what the fuck.
        damage:
          types:
            Cellular: 0.01 #real spess cancer, straight to the source
            Asphyxiation: 0.2 #lungs are struggling, mega smoker mode
      - !type:Emote
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 70
        emote: Gasp
        probability: 0.05
      - !type:PopupMessage
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 200
        visualType: Medium
        messages: ["nicotine-effect-dull-ache", "nicotine-effect-sharp-pain"]
        type: Local
        probability: 0.05
      - !type:HealthChange
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 200   #if you hit this naturally while smoking, uh. How even. Are you literally just staying in med at this point.
        damage:
          types:
            Cellular: 0.01
            Poison: 0.01 #the three nicotine horsemen
            Asphyxiation: 0.3
      - !type:MovementSpeedModifier
        conditions:
        - !type:ReagentCondition
          reagent: Nicotine
          min: 200
        walkSpeedModifier: 0.8  #lungs don't do good, can't move good.
        sprintSpeedModifier: 0.8

# TODO: Replace these nonstandardized effects with generic brain damage
- type: reagent
  id: Impedrezene
  name: reagent-name-impedrezene
  group: Narcotics
  desc: reagent-desc-impedrezene
  physicalDesc: reagent-physical-desc-acrid
  contrabandSeverity: Minor
  flavor: bitter
  color: "#215263"
  metabolisms:
    Narcotic:
      effects:
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
      - !type:HealthChange
        damage:
          types:
            Poison: 2
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        time: 10
        type: Add
        refresh: false
      - !type:Vomit # Vomiting is a symptom of brain damage
        probability: 0.05
      - !type:Drunk # Headaches and slurring are major symptoms of brain damage, this is close enough
        boozePower: 5

- type: reagent
  id: SpaceDrugs
  name: reagent-name-space-drugs
  group: Narcotics
  desc: reagent-desc-space-drugs
  physicalDesc: reagent-physical-desc-syrupy
  flavor: bitter
  color: "#63806e"
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5

- type: reagent
  id: ForeverWeed
  name: reagent-name-forever-weed
  group: Narcotics
  desc: reagent-desc-forever-weed
  physicalDesc: reagent-physical-desc-syrupy
  flavor: bitter
  color: "#1b8b3d"
  metabolisms:
    Narcotic:
      effects:
      - !type:AdjustReagent
        conditions:
        - !type:ReagentCondition
          reagent: ForeverWeed
          max: 5
        reagent: ForeverWeed
        amount: 1
      - !type:GenericStatusEffect
        key: SeeingRainbows
        component: SeeingRainbows
        type: Add
        time: 32
        refresh: false
      - !type:PopupMessage
        type: Local
        messages:
        - "foreverweed-effect-longtime"
        - "foreverweed-effect-parents"
        - "foreverweed-effect-paranoia-one"
        - "foreverweed-effect-paranoia-two"
        - "foreverweed-effect-paranoia-three"
        - "foreverweed-effect-syndicate"
        - "foreverweed-effect-space-cops"
        - "foreverweed-effect-space-cops-paranoia"
        - "foreverweed-effect-captain"
        - "foreverweed-effect-captain-paranoia"
        - "foreverweed-effect-centcomm"
        - "foreverweed-effect-centcomm-paranoia"
        probability: 0.01

- type: reagent
  id: Bananadine
  name: reagent-name-bananadine
  group: Narcotics
  desc: reagent-desc-bananadine
  physicalDesc: reagent-physical-desc-powdery
  flavor: bitter
  color: "#ffff00"
  metabolisms:
    Narcotic:
      effects:
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5

# Probably replace this one with sleeping chem when putting someone in a comatose state is easier
- type: reagent
  id: Nocturine
  name: reagent-name-nocturine
  group: Narcotics
  desc: reagent-desc-nocturine
  physicalDesc: reagent-physical-desc-powdery
  contrabandSeverity: Syndicate
  color: "#128e80"
  boilingPoint: 444.0
  meltingPoint: 128.0
  metabolisms:
    Narcotic:
      effects: # It would be nice to have speech slurred or mumbly, but accents are a bit iffy atm. Same for distortion effects.
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
      - !type:ModifyStatusEffect
        conditions:
        - !type:ReagentCondition
          reagent: Nocturine
          min: 8
        effectProto: StatusEffectForcedSleeping
        time: 6
        delay: 5

- type: reagent
  id: MuteToxin
  name: reagent-name-mute-toxin
  group: Narcotics
  desc: reagent-desc-mute-toxin
  physicalDesc: reagent-physical-desc-syrupy
  contrabandSeverity: Syndicate
  color: "#000000"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:GenericStatusEffect
        key: Muted
        component: Muted
        type: Add
        time: 10

- type: reagent
  id: NorepinephricAcid
  name: reagent-name-norepinephric-acid
  group: Narcotics
  desc: reagent-desc-norepinephric-acid
  physicalDesc: reagent-physical-desc-milky
  contrabandSeverity: Minor
  flavor: salty
  color: "#96a8b5"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        messages:
        - generic-reagent-effect-burning-eyes
        - generic-reagent-effect-burning-eyes-a-bit
        - generic-reagent-effect-tearing-up
        - norepinephricacid-effect-eyelids
        - norepinephricacid-effect-eyes-itch
        - norepinephricacid-effect-vision-fade
        - norepinephricacid-effect-vision-fail
        probability: 0.08
      - !type:PopupMessage
        visualType: MediumCaution
        type: Local
        messages:
        - norepinephricacid-effect-eye-disconnect
        - norepinephricacid-effect-eye-pain
        - norepinephricacid-effect-darkness
        - norepinephricacid-effect-blindness
        conditions:
        - !type:ReagentCondition
          reagent: NorepinephricAcid
          min: 20
        probability: 0.03
        #If anyone wants to add a light dimming or grayscale effect when under 20u, be my guest
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentCondition
          reagent: NorepinephricAcid
          min: 20

- type: reagent
  id: TearGas
  name: reagent-name-tear-gas
  group: Narcotics
  desc: reagent-desc-tear-gas
  physicalDesc: reagent-physical-desc-milky
  allowedDepartments:
  - Security
  flavor: salty
  color: "#ffffff4d"
  boilingPoint: 255.0
  meltingPoint: 36.0
  metabolisms:
    Narcotic:
      effects:
      - !type:PopupMessage
        type: Local
        probability: 0.08
        messages:
        - generic-reagent-effect-burning-eyes
        - generic-reagent-effect-burning-eyes-a-bit
        - generic-reagent-effect-tearing-up
        - norepinephricacid-effect-eyelids
        - norepinephricacid-effect-eyes-itch
        - norepinephricacid-effect-vision-fade
        - norepinephricacid-effect-vision-fail
      - !type:PopupMessage
        type: Local
        visualType: MediumCaution
        probability: 0.03
        messages:
        - norepinephricacid-effect-eye-disconnect
        - norepinephricacid-effect-eye-pain
        - norepinephricacid-effect-darkness
        - norepinephricacid-effect-blindness
      - !type:Emote
        emote: Scream
        probability: 0.08
        conditions:
        - !type:ReagentCondition
          reagent: TearGas
          min: 4
      - !type:Emote
        emote: Cough
        probability: 0.08
      - !type:GenericStatusEffect
        key: TemporaryBlindness
        component: TemporaryBlindness
        conditions:
        - !type:ReagentCondition
          reagent: TearGas
          min: 4
      - !type:MovementSpeedModifier
        walkSpeedModifier: 0.65
        sprintSpeedModifier: 0.65
        time: 1.5
        conditions: # because of the remainding after effect, threshold is given so the effects ends simultaniously
        - !type:ReagentCondition
          reagent: TearGas
          min: 4

- type: reagent
  id: Happiness
  name: reagent-name-happiness
  group: Narcotics
  desc: reagent-desc-happiness
  physicalDesc: reagent-physical-desc-soothing
  flavor: paintthinner
  color: "#EE35FF"
  metabolisms:
    Narcotic:
      effects:
      - !type:Emote
        emote: Laugh
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:Emote
        emote: Whistle
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:Emote
        emote: Crying
        showInChat: true
        probability: 0.1
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          min: 20
      - !type:PopupMessage # we dont have sanity/mood so this will have to do
        type: Local
        visualType: Medium
        messages:
        - "psicodine-effect-fearless"
        - "psicodine-effect-anxieties-wash-away"
        - "psicodine-effect-at-peace"
        probability: 0.2
        conditions:
        - !type:ReagentCondition
          reagent: Happiness
          max: 20
      - !type:ModifyStatusEffect
        effectProto: StatusEffectSeeingRainbow
        type: Add
        time: 5

- type: reagent
  id: NitrosylPlasmide
  name: reagent-name-nitrosyl-plasmide
  group: Narcotics
  desc: reagent-desc-nitrosyl-plasmide
  physicalDesc: reagent-physical-desc-translucent
  flavor: sour
  color: "#e1a116"
  metabolisms:
    Gas:
      effects:
      - !type:Jitter
    Narcotic:
      effects:
      - !type:Jitter
      - !type:GenericStatusEffect
        key: Stun
        time: 3
        type: Remove
      - !type:GenericStatusEffect
        key: KnockedDown
        time: 3
        type: Remove
      - !type:GenericStatusEffect
        key: Drowsiness
        time: 10
        type: Remove
      - !type:GenericStatusEffect
        conditions:
        key: ForcedSleep
        type: Remove
        time: 10
      - !type:HealthChange
        damage:
          types:
            Poison: 0.1
    Medicine:
      effects:
      - !type:ResetNarcolepsy
        conditions:
        - !type:ReagentCondition
          reagent: NitrosylPlasmide
          min: 1
