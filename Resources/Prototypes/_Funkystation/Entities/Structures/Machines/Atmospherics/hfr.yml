- type: entity
  parent: BaseStructure
  id: HFRConsole
  name: hypertorus fusion reactor console
  description: Used to control and monitor hypertorus fusion reactions.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrconsole.rsi
    layers:
    - state: off
      map: [ "enum.PowerDeviceVisualLayers.Powered" ]
  - type: GenericVisualizer
    visuals:
      enum.PowerDeviceVisuals.Powered:
        enum.PowerDeviceVisualLayers.Powered:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: ActivatableUI
    key: enum.HFRConsoleUiKey.Key
  - type: UserInterface
    interfaces:
      enum.HFRConsoleUiKey.Key:
        type: HFRConsoleBoundUserInterface
  - type: HFRConsole
  - type: ApcPowerReceiver
    powerDisabled: true
  - type: ActivatableUIRequiresPower
  - type: ExtensionCableReceiver

- type: entity
  parent: BaseStructure
  id: HFRCore
  name: hypertorus fusion reactor core
  description: The core of the hypertorus fusion reactor.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrcore.rsi
    granularLayersRendering: true
    layers:
    - state: pipe
      map: [ "enum.PipeVisualLayers.Pipe" ]
      renderingStrategy: Default
    - state: off
      map: [ "enum.HFRVisualLayers.IsActive" ]
  - type: GenericVisualizer
    visuals:
      enum.HFRVisuals.IsActive:
        enum.HFRVisualLayers.IsActive:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: AtmosDevice
  - type: NodeContainer
    nodes:
      pipe:
        !type:PipeNode
        nodeGroupID: Pipe
        pipeDirection: South
  - type: PipeColorVisuals
  - type: AtmosPipeColor
  - type: Speech
  - type: GravityWell
    baseRadialAcceleration: 1
    maxRange: 0.5
    gravPulsePeriod: 15
  - type: AmbientSound
    enabled: false
    range: 20
    volume: -5
    sound:
      path: /Audio/_EE/Supermatter/calm.ogg
  - type: HFRCore

- type: entity
  parent: BaseStructure
  id: HFRFuelInput
  name: hypertorus fusion reactor fuel input
  description: Takes in fuel for the hypertorus fusion reactor.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrfuelinput.rsi
    granularLayersRendering: true
    layers:
    - state: pipe
      map: [ "enum.PipeVisualLayers.Pipe" ]
      renderingStrategy: Default
    - state: off
      map: [ "enum.HFRVisualLayers.IsActive" ]
  - type: GenericVisualizer
    visuals:
      enum.HFRVisuals.IsActive:
        enum.HFRVisualLayers.IsActive:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: NodeContainer
    nodes:
      pipe:
        !type:PipeNode
        nodeGroupID: Pipe
        pipeDirection: South
  - type: PipeColorVisuals
  - type: AtmosPipeColor
  - type: HFRFuelInput

- type: entity
  parent: BaseStructure
  id: HFRModeratorInput
  name: hypertorus fusion reactor moderator input
  description: Takes in moderator gases for the hypertorus fusion reactor.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrmoderatorinput.rsi
    granularLayersRendering: true
    layers:
    - state: pipe
      map: [ "enum.PipeVisualLayers.Pipe" ]
      renderingStrategy: Default
    - state: off
      map: [ "enum.HFRVisualLayers.IsActive" ]
  - type: GenericVisualizer
    visuals:
      enum.HFRVisuals.IsActive:
        enum.HFRVisualLayers.IsActive:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: NodeContainer
    nodes:
      pipe:
        !type:PipeNode
        nodeGroupID: Pipe
        pipeDirection: South
  - type: PipeColorVisuals
  - type: AtmosPipeColor
  - type: HFRModeratorInput

- type: entity
  parent: BaseStructure
  id: HFRWasteOutput
  name: hypertorus fusion reactor waste output
  description: Outputs waste from the hypertorus fusion reactor.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrwasteoutput.rsi
    granularLayersRendering: true
    layers:
    - state: pipe
      map: [ "enum.PipeVisualLayers.Pipe" ]
      renderingStrategy: Default
    - state: off
      map: [ "enum.HFRVisualLayers.IsActive" ]
  - type: GenericVisualizer
    visuals:
      enum.HFRVisuals.IsActive:
        enum.HFRVisualLayers.IsActive:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: NodeContainer
    nodes:
      pipe:
        !type:PipeNode
        nodeGroupID: Pipe
        pipeDirection: South
  - type: PipeColorVisuals
  - type: AtmosPipeColor
  - type: HFRWasteOutput

- type: entity
  parent: BaseStructure
  id: HFRCorner
  name: hypertorus fusion reactor corner
  description: Corner part to a hypertorus fusion reactor.
  components:
  - type: Sprite
    sprite: _Funkystation/Structures/Machines/HFR/hfrcorner.rsi
    layers:
    - state: off
      map: [ "enum.HFRVisualLayers.IsActive" ]
  - type: GenericVisualizer
    visuals:
      enum.HFRVisuals.IsActive:
        enum.HFRVisualLayers.IsActive:
          True: { state: on }
          False: { state: off }
  - type: Appearance
  - type: InteractionOutline
  - type: Anchorable
  - type: Rotatable
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PolygonShape
            vertices:
            - "0.4,0.5"
            - "-0.5,-0.4"
            - "-0.5,0.5"
        mask:
        - FullTileMask
        layer:
        - HalfWallLayer
  - type: Physics
    bodyType: Static
  - type: HFRCorner