# SPDX-FileCopyrightText: 2025 Mish <bluscout78@yahoo.com>
# SPDX-FileCopyrightText: 2025 Toaster <mrtoastymyroasty@gmail.com>
# SPDX-FileCopyrightText: 2025 taydeo <td12233a@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: entity
  name: roingus
  description: Bounce!
  parent: MobMouse
  id: MobRoingus
  components:
  - type: Sprite
    layers:
    - map: ["enum.DamageStateVisualLayers.Base", movement]
      state: roingus
      sprite: _Funkystation/Mobs/Animals/roingus.rsi
  - type: SpriteMovement
    movementLayers:
      movement:
        state: roingus-moving
    noMovementLayers:
      movement:
        state: roingus
  - type: Tag
    tags:
    - FootstepSound
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepBounce
      params:
        pitch: 1.15
  - type: Clothing
    equippedPrefix: 1
  - type: DamageStateVisuals
    states:
      Alive:
        Base: roingus
      Critical:
        Base: dead
      Dead:
        Base: splat
  - type: Item
    size: Tiny
    heldPrefix: 1
  - type: FoodSequenceElement
    entries:
      Burger: RoingusBurger
      Taco: RoingusTaco

- type: entity
  id: MobMeowl
  name: meowl
  description: The peak of evolution, the most efficient pest hunter any side of the galaxy.
  parent: [SimpleMobBase, FlyingMobBase, StripableInventoryBase]
  components:
  - type: Sprite
    drawdepth: Mobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: parrot
      sprite: Resources\Textures\_Funkystation\Mobs\Animals\meowl.rsi
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        density: 10
        mask:
        - FlyingMobMask
        layer:
        - FlyingMobLayer
  - type: DamageStateVisuals
    states:
      Alive:
        Base: meowl
      # Critical:
      #   Base: dead
      # Dead:
      #   Base: dead
  - type: Butcherable
    spawned:
    - id: FoodMeat
      amount: 1
  - type: Speech
    speechSounds: Cat
    speechVerb: SmallMob
  - type: ReplacementAccent
    accent: cat
  - type: Inventory
    templateId: parrot
    speciesId: parrot
    # transparent displacement map to hide the headset. this should be an animated displacement map to follow the parrot
    # as it bobs up and down, but this in turn needs some way to change the displacement map on inventory entities when
    # the parrot dies, otherwise the visuals will be broken
    displacements:
      ears:
        sizeMaps:
          32:
            sprite: Mobs/Animals/parrot/displacement.rsi
            state: ears
  - type: InventorySlots
  - type: Strippable
  - type: UserInterface
    interfaces:
      enum.StrippingUiKey.Key:
        type: StrippableBoundUserInterface
  - type: InteractionPopup
    successChance: 0.6
    interactSuccessString: petting-success-cat
    interactFailureString: petting-failure-generic
    interactSuccessSpawn: EffectHearts
    interactSuccessSound:
      path: /Audio/Animals/cat_meow.ogg
  - type: Bloodstream
    bloodMaxVolume: 50
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcClaw
    soundHit:
      path: /Audio/Weapons/pierce.ogg
    damage:
      types:
        Piercing: 10
  - type: Grammar
    attributes:
      gender: epicene
  - type: MobPrice
    price: 1000
  - type: Tag
    tags:
    - VimPilot
  - type: ThermalVision
    color: "#b8b8b8"
    activateSound: null
    deactivateSound: null
    lightRadius: 5
  - type: Godmode # why would you ever hurt them :godo:
