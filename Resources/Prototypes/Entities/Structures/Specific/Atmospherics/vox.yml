# SPDX-FileCopyrightText: 2024 Tadeo <td12233a@gmail.com>
# SPDX-FileCopyrightText: 2024 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 2025 Josh Hilsberg <thejoulesberg@gmail.com>
# SPDX-FileCopyrightText: 2025 JoulesBerg <104539820+JoulesBerg@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Steve <marlumpy@gmail.com>
# SPDX-FileCopyrightText: 2025 marc-pelletier <113944176+marc-pelletier@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 taydeo <td12233a@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later AND MIT

- type: entity
  abstract: true
  parent: AirSensorBase
  id: AirSensorVoxBase
  suffix: Vox Atmosphere
  components:
  - type: AtmosMonitor
    gasThresholdPrototypes:
      Oxygen: voxOxygen
      Nitrogen: voxNitrogen
      CarbonDioxide: stationCO2
      Plasma: stationPlasma
      Tritium: stationTritium
      WaterVapor: stationWaterVapor
      Ammonia: stationAmmonia
      NitrousOxide: stationNO
      Frezon: danger
      BZ: danger # Assmos - /tg/ gases
      Healium: stationNO # Assmos - /tg/ gases
      Nitrium: danger # Assmos - /tg/ gases
      Pluoxium: ignore # Assmos - /tg/ gases
      Hydrogen: danger # Assmos - /tg/ gases
      HyperNoblium: stationAmmonia # Assmos - /tg/ gases
      ProtoNitrate: danger # Assmos - /tg/ gases
      Zauker: danger # Assmos - /tg/ gases
      Halon: danger # Assmos - /tg/ gases
      Helium: stationAmmonia # Assmos - /tg/ gases
      AntiNoblium: danger # Assmos - /tg/ gases

- type: entity
  parent: [AirSensorVoxBase, AirSensor]
  id: AirSensorVox

- type: entity
  parent: [AirSensorVoxBase, GasVentPump]
  id: GasVentPumpVox
  components:
  - type: AtmosPipeLayers
    alternativePrototypes:
      Primary: GasVentPumpVox
      Secondary: GasVentPumpVoxAlt1
      Tertiary: GasVentPumpVoxAlt2

- type: entity
  parent: [AirSensorVoxBase, GasVentScrubber]
  id: GasVentScrubberVox
  components:
  - type: GasVentScrubber
    wideNet: true # Air alarm with auto mode overrides filters with hardcoded defaults so default to widenet
    filterGases:
    - Oxygen # filter out oxygen as well as regular harmful gases
    - CarbonDioxide
    - Plasma
    - Tritium
    - WaterVapor
    - Ammonia
    - NitrousOxide
    - Frezon
    - BZ
    - Healium
    - Nitrium
    - Pluoxium
    - Hydrogen
    - HyperNoblium
    - ProtoNitrate
    - Zauker
    - Halon
    - Helium
    - AntiNoblium
  - type: AtmosPipeLayers
    alternativePrototypes:
      Primary: GasVentScrubberVox
      Secondary: GasVentScrubberVoxAlt1
      Tertiary: GasVentScrubberVoxAlt2

# use this to prevent overriding filters with hardcoded defaults
- type: entity
  parent: AirAlarm
  id: AirAlarmVox
  suffix: Vox Atmosphere, auto mode disabled
  components:
  - type: AirAlarm
    autoMode: false

- type: entity
  parent: [GasPipeLayerAlt1, GasVentPumpVox]
  id: GasVentPumpVoxAlt1
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    drawdepth: ThinPipeAlt1
    sprite: Structures/Piping/Atmospherics/vent.rsi
    noRot: true
    layers:
    - sprite: Structures/Piping/Atmospherics/pipe_alt1.rsi
      state: pipeUnaryConnectors
      map: [ "enum.PipeVisualLayers.Pipe" ]
    - state: vent_off
      map: [ "enabled", "enum.SubfloorLayers.FirstLayer" ]
  - type: Construction
    node: ventpumpAlt1

- type: entity
  parent: [GasPipeLayerAlt2, GasVentPumpVox]
  id: GasVentPumpVoxAlt2
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    drawdepth: ThinPipeAlt2
    sprite: Structures/Piping/Atmospherics/vent.rsi
    noRot: true
    layers:
    - sprite: Structures/Piping/Atmospherics/pipe_alt2.rsi
      state: pipeUnaryConnectors
      map: [ "enum.PipeVisualLayers.Pipe" ]
    - state: vent_off
      map: [ "enabled", "enum.SubfloorLayers.FirstLayer" ]
  - type: Construction
    node: ventpumpAlt2

- type: entity
  parent: [GasPipeLayerAlt1, GasVentScrubberVox]
  id: GasVentScrubberVoxAlt1
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    drawdepth: ThinPipeAlt1
    sprite: Structures/Piping/Atmospherics/scrubber.rsi
    noRot: true
    layers:
    - sprite: Structures/Piping/Atmospherics/pipe_alt1.rsi
      state: pipeUnaryConnectors
      map: [ "enum.PipeVisualLayers.Pipe" ]
    - state: scrub_off
      map: [ "enabled", "enum.SubfloorLayers.FirstLayer" ]
  - type: Construction
    node: ventscrubberAlt1

- type: entity
  parent: [GasPipeLayerAlt2, GasVentScrubberVox]
  id: GasVentScrubberVoxAlt2
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    drawdepth: ThinPipeAlt2
    sprite: Structures/Piping/Atmospherics/scrubber.rsi
    noRot: true
    layers:
    - sprite: Structures/Piping/Atmospherics/pipe_alt2.rsi
      state: pipeUnaryConnectors
      map: [ "enum.PipeVisualLayers.Pipe" ]
    - state: scrub_off
      map: [ "enabled", "enum.SubfloorLayers.FirstLayer" ]
  - type: Construction
    node: ventscrubberAlt2
